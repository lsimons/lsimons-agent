appId: com.lsimons.agent
productName: lsimons-agent
directories:
  output: dist
  buildResources: build

# Auto-update via GitHub Releases
publish:
  provider: github
  owner: lsimons
  repo: lsimons-agent

# Backend is bundled per-platform (PyInstaller outputs different names)
# extraResources puts files in Resources/ (accessible via process.resourcesPath)

mac:
  category: public.app-category.developer-tools
  target:
    - dmg
    - zip  # Required for auto-update on Mac
  icon: build/icon.icns
  extraResources:
    - from: "../lsimons-agent-web/dist/lsimons-agent-web"
      to: "backend/lsimons-agent-web"

win:
  target:
    - nsis
  icon: build/icon.ico
  extraResources:
    - from: "../lsimons-agent-web/dist/lsimons-agent-web.exe"
      to: "backend/lsimons-agent-web.exe"

linux:
  target:
    - AppImage
  icon: build/icon.png
  category: Development
  extraResources:
    - from: "../lsimons-agent-web/dist/lsimons-agent-web"
      to: "backend/lsimons-agent-web"

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
